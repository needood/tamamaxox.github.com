!function(a){"use strict";a.__S||(a.__S={plugins:{}},a.DEBUG={warn:function(){},log:function(){}})}(window),function(a){"use strict";Array.prototype.forEach||(Array.prototype.forEach=function(a){if(void 0===this||null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=arguments.length>=2?arguments[1]:void 0,e=0;c>e;e++)e in b&&a.call(d,b[e],e,b)});var b,c,d,e=a.__S||(a.__S={}),f=a.document.documentElement.style,g=["webkit","Moz","ms"],h=!1,i=!1;if("transition"in f)h=!0,c="";else for(d=0;d<g.length;d++)b=g[d]+"Transition","undefined"!==f[b]&&(h=!0,c=g[d]);if("undefined"!=typeof f.transform)i=!0;else for(d=0;d<g.length;d++)b=g[d]+"Transform","undefined"!=typeof f[b]&&(i=!0,c=g[d]);e.support={prefix:c,transition:h,transform:i,matrix:!(!a.WebKitCSSMatrix&&!a.MSCSSMatrix),touch:"ontouchstart"in a,pointers:a.navigator.pointerEnabled,msPointers:a.navigator.msPointerEnabled}}(window),function(a){"use strict";function b(b,c){for(var d=["Top","Right","Bottom","Left"],e=a.getComputedStyle(c),f="width"===b,g=f?1:0,h=0;4>g;g+=2)h+=parseInt(e["margin"+d[g]],10);return h+(f?c.offsetWidth:c.offsetHeight)}var c=a.__S||(a.__S={}),d=c.support,e=d&&d.prefix,f={};return d?(d.transition&&d.transform&&(f=""!==e?{transform:e+"Transform",transition:e+"Transition",transitionProperty:e+"TransitionProperty",transitionTimingFunction:e+"TransitionTimingFunction",transitionDuration:e+"TransitionDuration",transformOrigin:e+"TransformOrigin",boxSizing:e+"BoxSizing",matrix:a.WebKitCSSMatrix||a.MSCSSMatrix}:{transform:"transform",transition:"transition",transitionProperty:"transitionProperty",transitionTimingFunction:"transitionTimingFunction",transitionDuration:"transitionDuration",transformOrigin:"transformOrigin",boxSizing:"boxSizing",matrix:a.WebKitCSSMatrix||a.MSCSSMatrix}),f.getHeight=function(a){return b("height",a)},f.getWidth=function(a){return b("width",a)},void(c.styles=f)):void a.console.log("Scroller Dependency error! browser support detection needed")}(window),function(a){"use strict";var b=a.__S||(a.__S={}),c={simpleMerge:function(a,b){var c,d={};for(c in a)a.hasOwnProperty(c)&&(d[c]=a[c]);for(c in b)b.hasOwnProperty(c)&&(d[c]=b[c]);return d},parseDOM:function(b){var c;return b&&b.length?"string"==typeof b?(c=a.document.createElement("div"),c.innerHTML=b,Array.prototype.slice.call(c.children,0)):Array.prototype.slice.call(b,0):void 0},bind:function(a,b,c,d){a.addEventListener(b,c,!!d)},unbind:function(a,b,c,d){a.removeEventListener(b,c,!!d)}};b.helpers=c}(window),function(a){"use strict";for(var b=0,c="CancelAnimationFrame",d=["ms","moz","webkit","o"],e=0;e<d.length&&!a.requestAnimationFrame;++e)a.requestAnimationFrame=a[d[e]+"RequestAnimationFrame"],a.cancelAnimationFrame=a[d[e]+c]||a[d[e]+c];a.requestAnimationFrame||(a.requestAnimationFrame=function(c){var d=(new Date).getTime(),e=Math.max(0,16-(d-b)),f=a.setTimeout(function(){c(d+e)},e);return b=d+e,f}),a.cancelAnimationFrame||(a.cancelAnimationFrame=function(b){a.clearTimeout(b)})}(window),function(a){function b(a){if(this._element=a,a.className!=this._classCache){if(this._classCache=a.className,!this._classCache)return;var b,c=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/);for(b=0;b<c.length;b++)h.call(this,c[b])}}function c(a,b){a.className=b.join(" ")}function d(a,b,c){Object.defineProperty?Object.defineProperty(a,b,{get:c}):a.__defineGetter__(b,c)}if(!("undefined"==typeof a.Element||"classList"in document.documentElement)){Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var c=b||0,d=this.length;d>c;c++)if(this[c]===a)return c;return-1});var e=Array.prototype,f=e.indexOf,g=e.slice,h=e.push,i=e.splice,j=e.join;b.prototype={add:function(a){this.contains(a)||(h.call(this,a),c(this._element,g.call(this,0)))},contains:function(a){return-1!==f.call(this,a)},item:function(a){return this[a]||null},remove:function(a){var b=f.call(this,a);-1!==b&&(i.call(this,b,1),c(this._element,g.call(this,0)))},toString:function(){return j.call(this," ")},toggle:function(a){return this.contains(a)?this.remove(a):this.add(a),this.contains(a)}},window.DOMTokenList=b,d(Element.prototype,"classList",function(){return new b(this)})}}(window),function(a){"use strict";function b(a,b,c,e){function f(a,b){return 1-3*b+3*a}function g(a,b){return 3*b-6*a}function h(a){return 3*a}function i(a,b,c){return((f(b,c)*a+g(b,c))*a+h(b))*a}function j(a,b,c){return 3*f(b,c)*a*a+2*g(b,c)*a+h(b)}function k(b){var e,f,g,h=b,k=d;for(g=0;k>g;g++){if(e=j(h,a,c),0===e)return h;f=i(h,a,c)-b,h-=f/e}return h}var l;return l=function(d){return a===b&&c===e?d:i(k(d),b,e)},l.toString=function(){return"cubic-bezier("+a+", "+b+", "+c+", "+e+")"},l}var c=a.__S||(a.__S={}),d=4;c.CubicBezier=b}(window),function(a){"use strict";function b(a,b){b||(b={}),this._initializeScroller(),this._setConfig(b),this._setElement(a),this._setSize(),this._initializePlugins(b),this._initialize(),this._handleEvents("bind")}var c=Date.now||function(){return(new Date).getTime()},d=a.requestAnimationFrame,e=a.cancelAnimationFrame,f=a.__S||{},g=f.plugins,h=f.helpers,i=f.support,j=f.styles,k=f.CubicBezier,l="lock",m="gestureStart",n="gestureMove",o="gestureEnd",p="animationMove",q="animationEnd",r="before",s="after",t={touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:4,MSPointerMove:4,MSPointerUp:4},u="vertical",v="horizontal",w={enabled:!0,bounceTime:600,useCSSTransition:!1,dualListeners:!1,minThreshold:5,minDirectionThreshold:2,lockOnDirection:null,itemHeight:null,itemWidth:null,bindToWrapper:!1,scroll:u,pullToRefresh:!1,pullToLoadMore:!1,scrollbars:!1,infiniteLoading:!1,gpuOptimization:!1,debounce:!0},x=k(.33,.66,.66,1),y=k(.33,.33,.66,.81),z={regular:{style:x.toString(),fn:x},bounce:{style:y.toString(),fn:y}},A=.1,B=5e-4,C=20,D=!1;b.DEFAULTS=w,b.CubicBezier=k,b.EASING_REGULAR=x,b.EASING_BOUNCE=y,b.EASING=z,b.MIN_VELOCITY=A,b.ACCELERATION_CONSTANT=B,b.SCROLL_VERTICAL=u,b.SCROLL_HORIZONTAL=v,b.MOUSE_WHEEL_SPEED=C,b.MOUSE_WHEEL_INVERTED=D,b.plugins=g,b.prototype={_initializeScroller:function(){this._events={},this.x=0,this.y=0},_initialize:function(){this._fire("_initialize")},_initializePlugins:function(){var a=this.opts.plugins,b=g.SurfaceManager,c=g.PullToRefresh,d=g.PullToLoadMore,e=!this.opts.useCSSTransition&&this.opts.gpuOptimization,f=this.opts.onPullToRefresh,h=this.opts.onPullToLoadMore;f&&c&&this.plug(c),h&&d&&this.plug(d),e&&b&&this.plug(b),a&&a.forEach(function(a){this.plug(a)},this)},_mergeConfigOptions:function(a,b){return h.simpleMerge(a,b)},_setConfig:function(b){var c=this.opts=this._mergeConfigOptions(w,b);this.enabled=c.enabled,this.scroll=c.scroll,this.itemHeight=c.itemHeight,this.itemWidth=c.itemWidth,this.acceleration=c.acceleration||B,this.scrollVertical=this.scroll===u,c.infiniteLoading&&c.pullToLoadMore&&(a.DEBUG.warn("You cannot have infiniteLoading and pullToShowMore at the same time.Switching to infiniteLoading"),this.opts.pullToLoadMore=!1),this.scrollVertical||!c.pullToRefresh&&!c.pullToLoadMore||(a.DEBUG.warn("The attributes: pullToRefresh or pullToShowMore are not available in horizontal mode yet. Switching them to false"),this.opts.pullToRefresh=!1,this.opts.pullToLoadMore=!1)},_setElement:function(b){this.wrapper="string"==typeof b?a.document.querySelector(b):b,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.scroller.classList.add("scroller"),this.scroller.classList.add(this.scrollVertical?"scroll-vertical":"scroll-horizontal")},_setWrapperSize:function(){this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.wrapperSize=this.scrollVertical?this.wrapperHeight:this.wrapperWidth},_setSize:function(){var a=this.scroller,b=this.opts.pullToLoadMore,c=this._ptlThreshold||0;this._setWrapperSize(),this._sizePullToShowMore(),this.scrollerWidth=a.offsetWidth,this.scrollerHeight=b?a.offsetHeight-c:a.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.maxScrollX=this.maxScrollX>0?0:this.maxScrollX,this.maxScrollY=this.maxScrollY>0?0:this.maxScrollY,this.hasScrollX=this.maxScrollX<0,this.hasScrollY=this.maxScrollY<0},_sizePullToShowMore:function(){},_destroy:function(){this._handleEvents("unbind")},_handleEvents:function(a){{var b="bind"===a?h.bind:h.unbind,c=this.wrapper,d=this.opts.bindToWrapper?c:window,e=!1;this.scroller}b(window,"orientationchange",this),b(window,"resize",this),i.touch&&!this.opts.disableTouch&&(b(c,"touchstart",this),b(d,"touchmove",this),b(d,"touchcancel",this),b(d,"touchend",this)),!i.pointers&&!i.msPointers||this.opts.disablePointers||(i.pointers?(b(c,"pointerdown",this),b(d,"pointermove",this),b(d,"pointercancel",this),b(d,"pointerup",this)):(b(c,"MSPointerDown",this),b(d,"MSPointerMove",this),b(d,"MSPointerCancel",this),b(d,"MSPointerUp",this)),e=!0),!this.opts.disableMouse&&(!e||e&&this.opts.dualListeners)&&(b(c,"mousedown",this),b(d,"mousemove",this),b(d,"mousecancel",this),b(d,"mouseup",this)),this.opts.disableWheel||(b(c,"wheel",this),b(c,"mousewheel",this),b(c,"DOMMouseScroll",this)),b(this.scroller,"transitionend",this),b(this.scroller,i.prefix+"TransitionEnd",this)},_fire:function(a){var b,c=this._events[a],d=c&&c.length,e=Array.prototype.slice.call(arguments,1);if(d)for(var f=0;d>f;f++)b=c[f],b.fn.apply(b.context||this,e)},_hook:function(a,b,c){var d=this[b];d&&(a===s?this[b]=function(){var a=d.apply(this,arguments);return c.call(this,a)}:a===r&&(this[b]=function(){c.apply(this,arguments),d.apply(this,arguments)}))},handleEvent:function(a){switch(a.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(a);break;case"orientationchange":case"resize":this.resize();break;case"transitionend":case i.prefix+"TransitionEnd":this._transitionEnd(a);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(a)}},_start:function(a){if(this.enabled&&(!this._initiated||t[a.type]===this._initiated)){var b=a.touches?a.touches[0]:a;this._initiated=t[a.type],this.moved=!1,this.distX=0,this.distY=0,this.velocity=0,this.scrollDirection=null,this._transitionTime(),this._isAnimating=!1,this._isScrolling&&(this._stopMomentum(),this._isScrolling=!1,this._onStopScrolling(a)),this.startX=this.x,this.startY=this.y,this.pointX=b.pageX,this.pointY=b.pageY,this.startTime=c(),this._lastPosition=this.scrollVertical?this.startY:this.startX,this._fire("beforeScrollStart",m,a)}},_onStopScrolling:function(a){a.preventDefault()},_trackVelocity:function(){var a,b=this._lastPosition,c=this.scrollVertical?this.y:this.x,d=17,e=c-b;this._lastPosition=c,a=e/d,this.velocity=.6*a+.4*this.velocity},_startMoveRAF:function(){function a(c){b._translate(b.x,b.y),b._trackVelocity(c),b._update(),b._fire("scrollMove",n,b.x,b.y),b._rafMoving=d(a)}var b=this;a()},_endMoveRAF:function(){e(this._rafMoving)},_update:function(){this._fire("_update")},_needsLocking:function(){return this.opts.lockOnDirection&&this.scrollDirection&&this.opts.lockOnDirection===this.scrollDirection},_lockScroller:function(){this._initiated=!1,this._fire(l,this.scrollDirection)},_getScrollDirection:function(a,b){var c=this.opts.minDirectionThreshold;return this.scrollDirection=a>b+c?v:b>a+c?u:null,this.scrollDirection},_isOutOfScroll:function(a,b){return this.scrollVertical?b>0||b<this.maxScrollY:a>0||a<this.maxScrollX},_setNormalizedXY:function(a,b){this.scrollVertical?(this.x=0,this.y=b):(this.x=a,this.y=0)},_move:function(a){if(!this.enabled||t[a.type]!==this._initiated)return void(a.scrollDirection=this.scrollDirection);var b,d,e,f,g=a.touches?a.touches[0]:a,h=g.pageX-this.pointX,i=g.pageY-this.pointY,j=c();return this.moved||!h&&!i||(this.moved=!0,this._translate(this.x,this.y),this._fire("scrollStart",m,a),(!this.opts.useCSSTransition||this.opts.debounce)&&this._startMoveRAF()),this.pointX=g.pageX,this.pointY=g.pageY,this.distX=this.distX+h,this.distY=this.distY+i,e=Math.abs(this.distX),f=Math.abs(this.distY),b=this.x+h,d=this.y+i,a.scrollDirection=this.scrollDirection||this._getScrollDirection(e,f),this._needsLocking()?void this._lockScroller():this.opts.minThreshold&&e<this.opts.minThreshold&&f<this.opts.minThreshold?void this._fire("scrollMove",n,this.x,this.y,a):(this._isOutOfScroll(b,d)&&(d=this.y+i/3,b=this.x+h/3),this._setNormalizedXY(b,d),void(this.opts.useCSSTransition&&!this.opts.debounce&&(this._translate(this.x,this.y),this._fire("scrollMove",n,this.x,this.y,a),j-this.startTime>300&&(this.startTime=j,this.startX=this.x,this.startY=this.y))))},_end:function(a){if(this._endMoveRAF(),this.enabled&&this.moved&&t[a.type]===this._initiated){this._initiated=!1;{var b,d=c()-this.startTime;z.regular}this._resetPosition(this.opts.bounceTime)||(this._isScrolling=!0,this.scrollVertical?(b=this._momentum(this.y,this.startY,d,this.maxScrollY,this.wrapperHeight),this._scrollTo(0,b.destination,b.time,b.bounce)):(b=this._momentum(this.x,this.startX,d,this.maxScrollX,this.wrapperWidth),this._scrollTo(b.destination,0,b.time,b.bounce)))}},_wheel:function(a){if(this.enabled){a.preventDefault(),a.stopPropagation();var c,e,f,g,h=this,i=b.MOUSE_WHEEL_SPEED,j=b.MOUSE_WHEEL_INVERTED?-1:1;if("deltaX"in a)c=-a.deltaX,e=-a.deltaY;else if("wheelDeltaX"in a)c=a.wheelDeltaX/120*i,e=a.wheelDeltaY/120*i;else if("wheelDelta"in a)c=e=a.wheelDelta/120*i;else{if(!("detail"in a))return;c=e=-a.detail/3*i}c*=j,e*=j,this.scrollVertical||(c=e,e=0),f=this.x+Math.round(this.hasScrollX?c:0),g=this.y+Math.round(this.hasScrollY?e:0),f>0?f=0:f<this.maxScrollX&&(f=this.maxScrollX),g>0?g=0:g<this.maxScrollY&&(g=this.maxScrollY),this.x=f,this.y=g,this._rafWheel||(this._rafWheel=d(function(){h._isScrolling=!0,h.distY=e,h.distX=c,h._wheelRAF()}))}},_wheelRAF:function(){this._translate(this.x,this.y),this._update(),this._rafWheel=!1,this._isScrolling=!1},_getVelocity:function(a,b,c){var d=this.opts.debounce?this.velocity:(a-b)/c;return Math.abs(d)<A&&(d=0),this.velocity=d,d},_computeMomentum:function(a,b){var c=this.acceleration,d=Math.abs(a)/c,e=a/2*d;return{destination:b+e,time:d}},_computeSnap:function(a,b,c,d){var e=a+b/2*(c/8);return{destination:e,time:Math.abs((e-d)/c)}},_momentum:function(a,b,c,d,e){var f=this._getVelocity(a,b,c),g=this._computeMomentum(f,a);return g.destination<d?(g=this._computeSnap(d,e,f,a),g.bounce=z.bounce):g.destination>0&&(g=this._computeSnap(0,e,f,a),g.bounce=z.bounce),g},_stopMomentum:function(){var b,c,d,f,g=j.transform,h=j.transition;this.opts.useCSSTransition?(b=a.getComputedStyle(this.scroller,null),i.matrix?(c=new j.matrix(b[g]),this.scrollerStyle[h]="",d=c.m41,f=c.m42):(c=b[g].split(")")[0].split(", "),d=+(c[12]||c[4]),f=+(c[13]||c[5])),this._translate(d,f)):e(this._rafReq)},_customResetPosition:function(){return this.opts.pullToRefresh||this.opts.pullToLoadMore},_resetPosition:function(a){a||(a=0);var b,c=this.x,d=this.y;return this._customResetPosition()&&(this.opts.pullToRefresh&&this.isTriggeredPTR()?b=this.getResetPositionPTR():this.opts.pullToLoadMore&&this.isTriggeredPTL()&&(b=this.resetPositionPTL())),b?(d=b.y,c=b.x,a=b.time||a):(!this.hasScrollY||this.y>0?d=0:this.y<this.maxScrollY&&(d=this.maxScrollY),!this.hasScrollX||this.x>0?c=0:this.x<this.maxScrollX&&(c=this.maxScrollX)),d===this.y&&c===this.x?!1:(this._scrollTo(c,d,a,z.regular),!0)},_transitionEasing:function(a){this.scrollerStyle[j.transitionTimingFunction]=a},_transitionTime:function(a){a||(a=0),this.scrollerStyle[j.transitionDuration]=a+"ms"},_translate:function(a,b){this.scrollerStyle[j.transform]="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,"+a+","+b+", 0, 1)",this.x=a,this.y=b},_transitionEnd:function(a){this.opts.useCSSTransition&&a.target===this.scroller&&(this._transitionTime(),this._resetPosition(this.opts.bounceTime)||(this._isScrolling=!1,this._fire("scrollEnd",q)))},_animate:function(a,b,e,f){function g(){var o,r,s,t=c();return t>=n?(h._isAnimating=!1,h._rafReq=null,h._translate(a,b),void(h._resetPosition(h.opts.bounceTime)||(h._fire("scrollEnd",q),h._isScrolling=!1))):(t=(t-k)/e,s=f(t),o=l*s+i,r=m*s+j,h._translate(o,r),h._fire("scrollMove",p,o,r),h._update(),void(h._isAnimating&&(h._rafReq=d(g))))}var h=this,i=this.x,j=this.y,k=c(),l=a-i,m=b-j,n=k+e;this._isAnimating=!0,g()},_prependData:function(b){var c=a.document.createDocumentFragment(),d=this.scroller,e=d.firstChild;b.forEach(function(a){c.appendChild(a)}),d.lastChild===e?d.appendChild(c):d.insertBefore(c,e.nextSibling)},_appendData:function(b){var c,d=a.document.createDocumentFragment(),e=this.scroller;for(c=0;c<b.length;c++)d.appendChild(b[c]);e.appendChild(d)},_scrollTo:function(a,b,c,d){d||(d=z.regular),!c||this.opts.useCSSTransition?(this._transitionEasing(d.style),this._transitionTime(c),this._translate(a,b),this._update(),c||(this._isScrolling=!1,this._fire(o))):this._animate(a,b,c,d.fn)},on:function(a,b,c){var d=this._events[a]||(this._events[a]=[]);d.push({fn:b,context:c})},resize:function(){var a=this;d(function(){a._translate(0,0),a._setSize()})},refresh:function(){var a=this;this._rafRefresh||(this._rafRefresh=d(function(){a._fire("_refresh"),a._setSize(),a._rafRefresh=null}))},plug:function(a){var b,c="string"==typeof a?g[a]:a,d=c.prototype,e=["init"];for(b in d)-1===e.indexOf(b)&&(this[b]=d[b]);d.init&&d.init.call(this)},scrollTo:function(a,b){(this.x!==a||this.y!==b)&&(this._stopMomentum(),this.distX=a-this.x,this.distY=b-this.y,this._isScrolling=!0,this._scrollTo.apply(this,arguments))},scrollToTop:function(a,b){this.scrollTo(0,0,a,b)},scrollToBottom:function(a,b){var c=this.maxScrollX,d=this.maxScrollY;this.scrollVertical?c=0:d=0,this.scrollTo(c,d,a,b)},prependItems:function(a){var b=h.parseDOM(a);b&&(this._prependData(b),this._setSize())},appendItems:function(a){var b=h.parseDOM(a);b&&(this._appendData(b),this._setSize())},destroy:function(){this._destroy(),this._fire("destroy")}},a.Scroller=f.constructor=b}(window),function(a){"use strict";function b(){}var c=a.__S||(a.__S={}),d=c.plugins||(c.plugins={}),e=c.styles,f=c.helpers,g=a.requestAnimationFrame,h=10;b.prototype={init:function(){this.surfacesPositioned=[],this.surfacesPool=[],this.items=[],this.on("_initialize",this._initializeSurfaceManager),this.on("_update",this._updateSurfaceManager),this.on("destroy",this._destroySurfaceManager)},_initializeSurfaceManager:function(){this._bootstrapItems(),this._initializeSurfaces(),this._setActiveOffset(),this._initializePositions(),this._setInfiniteScrollerSize()},_destroySurfaceManager:function(){var b=a.document.createDocumentFragment();this.items.forEach(function(a){b.appendChild(a.dom)}),this.scroller.innerHTML="",this.scroller.appendChild(b),this.items=[],this.surfacesPool=[],this.surfacesPositioned=[]},_bootstrapItems:function(){var a,b,c=this.opts.pullToRefresh?1:0,d=Array.prototype.slice.call(this.scroller.children,c),e=d.length,f=[];if(e)for(b=0;e>b;b++)a=d[b],f[b]={dom:a},this.scroller.removeChild(a);this.items=f},_setActiveOffset:function(){this.activeOffset=.9*(this.scrollVertical?this.wrapperHeight:this.wrapperWidth)},_initializePositions:function(){for(var a,b,c=this.items,d=this.scrollVertical?this.wrapperHeight:this.wrapperWidth,e=this.surfacesPositioned,f=c.length,g=!0,h=d+2*this.activeOffset,i=0,j=0;f>j&&g;j++)a=c[j],b=this._getAvailableSurface(),i+=this._attachItemInSurface(a,b,{index:j,offset:i}),g=h>i,e[j]=b},_createSurfaceDOM:function(b,c){b||(b={});var d=a.document.createElement("div"),f=d.style;return d.className=b["class"]?"surface "+b["class"]:"surface",f.height=b.height&&b.height+"px",f.width=b.width&&b.width+"px",f[e.transform]="scale3d(0.0001, 0.0001, 1)",c&&d.appendChild(c),d},_createSurface:function(a,b){a||(a={});var c=this._createSurfaceDOM(a,b);return{dom:c,contentIndex:a.index,content:b,state:0,offset:0,width:0,height:0}},_createSurfaces:function(a,b){b||(b={});var c,d=[];for(c=0;a>c;c++)d.push(this._createSurface(b));return d},_getSurfaceTotalOffset:function(a){return a.offset+(this.scrollVertical?a.height:a.width)},_attachItemInSurface:function(a,b,c){var d,f,g=c.offset,h=c.index,i=0,j=0;return b.dom.appendChild(a.dom),f=b.dom.offsetHeight,d=b.dom.offsetWidth,this.scrollVertical?j=c.preCalculateSize?g-f:g:i=c.preCalculateSize?g-d:g,b.dom.style[e.transform]="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,"+i+","+j+", 0, 1)",b.state=1,b.contentIndex=h,b.content=a,b.height=f,b.width=d,b.offset=j||i,this.scrollVertical?f:d},_dettachItemInSurface:function(a){a.state=0,a.contentIndex=null,a.content=null,a.height=null,a.width=null,a.offset=null,a.dom.removeChild(a.dom.firstChild)},_attachSurfaces:function(b){var c,d,e=a.document.createDocumentFragment();for(d=0;d<b.length;d++)c=b[d],e.appendChild(c.dom),this.surfacesPool.push(c);this.scroller.appendChild(e)},_getAvailableSurface:function(){for(var a,b,c=this.surfacesPool,d=0;d<c.length;d++)if(b=c[d],!b.state)return b;return a=this._createSurfaces(1),this._attachSurfaces(a),this._getAvailableSurface()},_emptyScroller:function(){return!(this.opts.pullToLoadMore?this.items.length-1:this.items.length)},_initializeSurfaces:function(){var a=this.items,b=Math.min(h,a.length),c=this._createSurfaces(b);this._attachSurfaces(c)},_resetSurfaces:function(){for(var a,b=this.surfacesPositioned,c=b.length,d=0;c>d;d++)a=b.shift(),this._dettachItemInSurface(a)},_mod:function(a){return a},_positionBeingUsed:function(a){var b=this._positionedSurfacesFirst(),c=this._positionedSurfacesLast();return a===b.contentIndex||a===c.contentIndex},_positionedSurfacesFirst:function(){return this.surfacesPositioned[0]},_positionedSurfacesLast:function(){var a=this.surfacesPositioned;return a[a.length-1]},_positionedSurfacesPush:function(){var b,c=this._positionedSurfacesLast(),d=this._getSurfaceTotalOffset(c),e=this._mod(c.contentIndex+1),f={index:e,offset:d};return this._positionBeingUsed(e)?c:(b=this._getAvailableSurface(),this._attachItemInSurface(this.items[e],b,f),this.surfacesPositioned.push(b),a.DEBUG.log("PUSH   ",Date.now()),b)},_positionedSurfacesPop:function(){a.DEBUG.log("POP    ",Date.now());var b=this.surfacesPositioned.pop();return this._dettachItemInSurface(b),this._positionedSurfacesLast()},_positionedSurfacesUnshift:function(){var b,c=this._positionedSurfacesFirst(),d=this._mod(c.contentIndex-1),e={index:d,offset:c.offset,preCalculateSize:!0};return this._positionBeingUsed(d)?c:(b=this._getAvailableSurface(),this._attachItemInSurface(this.items[d],b,e),this.surfacesPositioned.unshift(b),a.DEBUG.log("UNSHIFT",Date.now()),b)},_positionedSurfacesShift:function(){a.DEBUG.log("SHIFT  ",Date.now());var b=this.surfacesPositioned.shift();return this._dettachItemInSurface(b),this._positionedSurfacesFirst()},_itemsLeft:function(a){var b,c=this._positionedSurfacesFirst().contentIndex,d=this._positionedSurfacesLast().contentIndex,e=this.items.length-1;return b="top"===a?c>0:"bottom"===a?e>d:c>0||e>d},_getBoundaries:function(a,b){var c=this.activeOffset,d=Math.abs(a);return{top:d-c>0?d-c:0,bottom:d+b+c}},_updateAllowed:function(a){return a.pos<0&&(this._isScrolling||Math.abs(a.dist)>10)},_recycleSurface:function(){return!0},_getPosition:function(){return this.scrollVertical?{pos:this.y,dist:this.distY,size:this.wrapperHeight,maxScroll:this.maxScrollY}:{pos:this.x,dist:this.distX,size:this.wrapperWidth,maxScroll:this.maxScrollX}},_updateSurfaceManager:function(){if(!this._emptyScroller()){var a,b=this,c=this._getPosition(),d=this._getBoundaries(c.pos,c.size),e=this._itemsLeft("bottom"),f=this._positionedSurfacesFirst(),h=this._getSurfaceTotalOffset(f),i=this._positionedSurfacesLast(),j=i.offset,k=!1,l=!1;if(this._updateAllowed(c)){if(this._isScrolling&&!e&&c.pos<c.maxScroll-c.size/4&&(this._isAnimating=!1,this._isScrolling=!1,this._stopMomentum(),g(function(){b._resetPosition(b.opts.bounceTime)})),c.dist<0){for(;this._itemsLeft("bottom")&&j<d.bottom&&!l;)a=this._positionedSurfacesPush(),a===i?l=!0:(i=a,j=i.offset,k=!0);if(k)return this._setInfiniteScrollerSize();for(;d.top>h&&this._recycleSurface("top");)f=this._positionedSurfacesShift(),h=this._getSurfaceTotalOffset(f),k=!0}else{for(;f.offset>d.top&&!l;)a=this._positionedSurfacesUnshift(),a===f?l=!0:(f=a,h=this._getSurfaceTotalOffset(f),k=!0);if(k)return this._setInfiniteScrollerSize();for(;j>d.bottom&&this._itemsLeft("top")&&this._recycleSurface("bottom");)i=this._positionedSurfacesPop(),j=i.offset,k=!0}return k?this._setInfiniteScrollerSize():void 0}}},_setInfiniteScrollerSize:function(){var a,b,c=this.surfacesPositioned,d=this.items,e=this.scrollVertical?this.wrapperHeight:this.wrapperWidth,f=this.opts.pullToLoadMore&&this._ptlIsEnabled(),g=f?c.length-3:c.length-1,h=c[g],i=this.opts.pullToLoadMore?d.length-1:d.length;c.length<=0||(a=h.contentIndex<i-(f?2:1),b=h.offset+(this.scrollVertical?h.height:h.width),this.scrollVertical?(this.maxScrollY=a?Number.NEGATIVE_INFINITY:e-b,this.maxScrollY=this.maxScrollY>0?0:this.maxScrollY):(this.maxScrollX=a?Number.NEGATIVE_INFINITY:e-b,this.maxScrollX=this.maxScrollX>0?0:this.maxScrollX),this.hasScrollY=this.maxScrollY<0,this.hasScrollX=this.maxScrollX<0,f&&this._setInfinitePullToShowMoreSpacer(b))},_setInfinitePullToShowMoreSpacer:function(a){if(!(this.ptlSpacerSize<=0)){var b=this.wrapperHeight-a,c=b>0,d=this.surfacesPositioned,f=d[d.length-1],g=f&&f.dom;this.ptlSpacerSize=c?b:0,this.ptlSpacer.style.height=this.ptlSpacerSize+"px",g&&(b=c?this.wrapperHeight:a,g.style[e.transform]="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,"+b+", 0, 1)")}},_appendPullToLoad:function(){var a=this._createPullToLoadMarkup();this.items.push({ptl:!0,dom:a}),this.ptlDOM=a,this.ptlIcon=a.firstChild,this._ptlSnapTime=200,this._ptlEnabled=!0,this.maxScrollY>=0&&this._ptlToggle("disable")},resize:function(){var a=this;this._stopMomentum(),g(function(){a._setWrapperSize(),a.refresh(),a._scrollTo(0,0)})},refresh:function(){this._resetSurfaces(),this._initializePositions(),this._setInfiniteScrollerSize()},_prependData:function(a){var b,c;for(c=0;c<a.length;c++)b={dom:a[c]},this.items.unshift(b)},_appendData:function(a){var b,c,d,e;for(this.opts.pullToLoadMore&&(b=this.items.pop(),this._positionedSurfacesPop(),e=this.items.pop(),this._positionedSurfacesPop()),d=0;d<a.length;d++)c={dom:a[d]},this.items.push(c);this.opts.pullToLoadMore&&(this.items.push(e),this.items.push(b))},prependItems:function(a){var b=f.parseDOM(a);b&&(this._prependData(b),this.refresh())},appendItems:function(a){var b=f.parseDOM(a);b&&(this._appendData(b),this._updateSurfaceManager())}},c.SurfaceManager=d.SurfaceManager=b}(window),function(a){"use strict";function b(){}var c=a.__S||(a.__S={}),d=a.requestAnimationFrame,e=c.plugins||(c.plugins={}),f={labelPull:"Pull down to refresh...",labelRelease:"Release to refresh...",labelUpdate:"Updating...",labelSubtitle:"",labelError:"Error on pull to refresh"},g=200,h=1e3,i="update",j="pull",k="icon",l="error",m="label",n="sub";b.prototype={init:function(){this._mergePullToRefreshConfig(),this.on("_initialize",this._appendPullToRefresh),this.on("scrollMove",this._onScrollMovePTR),this.on("_customResetPosition",this._onResetPositionPTR)},_mergePullToRefreshConfig:function(){this.opts.pullToRefreshConfig=this._mergeConfigOptions(f,this.opts.pullToRefreshConfig)},_createPullToRefreshMarkup:function(){var b=a.document.createElement("div"),c=this.opts.pullToRefreshConfig.labelPull,d=this.opts.pullToRefreshConfig.labelSubtitle;return b.innerHTML=['<span class="'+k+'"></span>','<span class="'+m+'">'+c+"</span>",'<span class="'+n+'">'+d+"</span>"].join(""),b.className="pullToRefresh",b},_appendPullToRefresh:function(){var a=this._createPullToRefreshMarkup();this.scroller.firstChild?this.scroller.insertBefore(a,this.scroller.firstChild):this.scroller.appendChild(a),this.ptrDOM=a,this.ptrIcon=a.getElementsByClassName(k)[0],this.ptrLabel=a.getElementsByClassName(m)[0],this._ptrThreshold=a.offsetHeight,this._ptrSnapTime=g,this.togglePullToRefresh(this.opts.pullToRefresh,!0)},_onResetPositionPTR:function(a){if(this._ptrTriggered){var b=this._getPTRSize();a=a||this._getPTRSnapTime(),this._scrollTo(0,b,a)}else this._resetPosition(a,!0)},_setPTRLoadingState:function(a){a?(this.ptrDOM.classList.add(i),this.ptrLabel.textContent=this.opts.pullToRefreshConfig.labelUpdate,this._ptrLoading=!0):(this.ptrDOM.classList.remove(i),this.ptrDOM.classList.remove(j),this.ptrLabel.textContent=this.opts.pullToRefreshConfig.labelPull,this._ptrLoading=!1)},_setPullState:function(a){a?(this.ptrDOM.classList.add(j),this.ptrLabel.textContent=this.opts.pullToRefreshConfig.labelRelease,this._ptrTriggered=!0):(this.ptrDOM.classList.remove(j),this.ptrLabel.textContent=this.opts.pullToRefreshConfig.labelPull,this._ptrTriggered=!1)},_setPTRErrorState:function(a){var b=this.opts.pullToRefreshConfig.labelError;"boolean"!=typeof a||a?(this._setPTRLoadingState(!1),this.ptrDOM.classList.add(l),this.ptrLabel.textContent=a.labelError||b):(this.ptrDOM.classList.remove(l),this._setPullState(!1))},_onScrollMovePTR:function(a,b,c){"gestureMove"===a&&c>0&&this._needsPullToRefresh(c)},_needsPullToRefresh:function(a){this._ptrTriggered&&a<this._ptrThreshold?this._setPullState(!1):!this._ptrTriggered&&a>this._ptrThreshold&&this._setPullState(!0)},_ptrToggle:function(a,b){var c=this.ptrDOM;c&&("disable"===a&&(this.opts.pullToRefresh||b)?(c.style.display="none",this._ptrThreshold=0,this.opts.pullToRefresh=!1):"enable"!==a||this.opts.pullToRefresh&&!b||(c.style.display="",this._ptrThreshold=c.offsetHeight,this.opts.pullToRefresh=!0))},_ptrExecTrigger:function(){var b=this,c=this.opts.onPullToRefresh,d=function(){b._ptrExecTriggerCallback.apply(b,arguments)};c?c(d):a.setTimeout(function(){b._ptrExecTriggerCallback("handler not defined")},600)},_ptrExecTriggerCallback:function(b,c){var e=this;b?(this._setPTRErrorState(b),this._ptrTriggered=!1,a.setTimeout(function(){e._resetPosition(e._ptrSnapTime),e._setPTRErrorState(!1)},h)):(this.prependItems(c),this._ptrTriggered=!1,this._setPTRLoadingState(!1),d(function(){e._resetPosition(e._ptrSnapTime)}))},isTriggeredPTR:function(){return this._ptrTriggered},getPTRSize:function(){return this._ptrThreshold},getPTRSnapTime:function(){return this._ptrSnapTime},triggerPTR:function(){this._ptrLoading||this._setPTRLoadingState(!0),this._ptrExecTrigger()},getResetPositionPTR:function(){return this._triggerPTRAfterReset?(this._triggerPTRAfterReset=!1,this.triggerPTR()):(this._setPTRLoadingState(!0),this._triggerPTRAfterReset=!0),{x:this.x,y:this.getPTRSize(),time:this.getPTRSnapTime()}},togglePullToRefresh:function(a,b){var c=void 0!==a,d=c?a?"enable":"disable":"";c?this._ptrToggle(d,b):this._ptrToggle(this.opts.pullToRefresh?"disable":"enable",b)}},e.PullToRefresh=b}(window),function(a){"use strict";function b(){}var c=a.__S||(a.__S={}),d=a.requestAnimationFrame,e=c.plugins||(c.plugins={}),f={labelPull:"Pull up to show more",labelRelease:"Release to show more",labelUpdate:"Updating...",labelSubtitle:"",labelError:"Error on pull to load more"},g=200,h=1e3,i="update",j="pull",k="icon",l="error",m="label",n="sub",o="pullToLoadMore";b.prototype={init:function(){this._mergePullToLoadMoreConfig(),this.on("_initialize",this._appendPullToLoad),this.on("scrollMove",this._onScrollMovePTL)},_mergePullToLoadMoreConfig:function(){this.opts.pullToLoadMoreConfig=this._mergeConfigOptions(f,this.opts.pullToLoadMoreConfig)},triggerPTL:function(){this._ptlLoading||this._setPTLLoadingState(!0),this._ptlExecTrigger()},_createPullToLoadMarkup:function(){var b=a.document.createElement("div"),c=this.opts.pullToLoadMoreConfig.labelPull,d=this.opts.pullToLoadMoreConfig.labelSubtitle;return b.innerHTML=['<span class="'+k+'"></span>','<span class="'+m+'">'+c+"</span>",'<span class="'+n+'">'+d+"</span>"].join(""),b.className=o,b},_createPullToLoadSpacer:function(){var b=a.document.createElement("div");return b.classList.add("spacer-pull-to-load-more"),b},_sizePullToShowMore:function(){var a=this.ptlSpacer,b=this.wrapperHeight-a.offsetTop;
b=b>0?b:0,b!==this.ptlSpacerSize&&(this.ptlSpacerSize=b,a.style.height=this.ptlSpacerSize+"px")},_appendPullToLoad:function(){var a=this._createPullToLoadMarkup(),b=this._createPullToLoadSpacer();this.scroller.appendChild(b),this.scroller.appendChild(a),this.ptlSpacer=b,this.ptlDOM=a,this.ptlIcon=a.firstChild,this.ptlLabel=a.getElementsByClassName(m)[0],this._ptlThreshold=a.offsetHeight,this._ptlSnapTime=g,this.togglePullToLoadMore(this.opts.pullToLoadMore,!0),this._setSize()},_appendData:function(b){var c=a.document.createDocumentFragment(),d=this.scroller,e=this.ptlSpacer;b.forEach(function(a){c.appendChild(a)}),e?d.insertBefore(c,e):d.appendChild(c)},_ptlIsEnabled:function(){return this.opts.pullToLoadMore},_ptlToggle:function(a,b){var c=this.ptlDOM;c&&("disable"===a&&(this.opts.pullToLoadMore||b)?(c.style.display="none",this._ptlThreshold=0,this.opts.pullToLoadMore=!1):"enable"!==a||this.opts.pullToLoadMore&&!b||(c.style.display="",this._ptlThreshold=c.offsetHeight,this.opts.pullToLoadMore=!0))},_onScrollMovePTL:function(a,b,c){"gestureMove"===a&&c<this.maxScrollY&&this._needsPullToLoadMore(c)},_needsPullToLoadMore:function(a){if(this.opts.pullToLoadMore){var b=this.maxScrollY-this._ptlThreshold;this._ptlTriggered&&a>b?(this._setPTLPullState(!1),this._ptlTriggered=!1):!this._ptlTriggered&&b>a&&(this._setPTLPullState(!0),this._ptlTriggered=!0)}},_setPTLPullState:function(a){a?(this.ptlDOM.classList.add(j),this.ptlLabel.textContent=this.opts.pullToLoadMoreConfig.labelRelease,this._ptlTriggered=!0):(this.ptlDOM.classList.remove(j),this.ptlLabel.textContent=this.opts.pullToLoadMoreConfig.labelPull,this._ptlTriggered=!1)},_setPTLLoadingState:function(a){a?(this.ptlDOM.classList.add(i),this.ptlLabel.textContent=this.opts.pullToLoadMoreConfig.labelUpdate,this._ptlLoading=!0):(this.ptlDOM.classList.remove(i),this.ptlDOM.classList.remove(j),this.ptlLabel.textContent=this.opts.pullToLoadMoreConfig.labelPull,this._ptlLoading=!1)},_setPTLErrorState:function(a){var b=this.opts.pullToLoadMoreConfig.labelError;"boolean"!=typeof a||a?(this._setPTLLoadingState(!1),this.ptlDOM.classList.add(l),this.ptlLabel.textContent=a.labelError||b):(this.ptlDOM.classList.remove(l),this._setPTLPullState(!1))},_ptlExecTrigger:function(){var b=this,c=this.opts.onPullToLoadMore,d=function(){b._ptlExecTriggerCallback.apply(b,arguments)};c?c(d):a.setTimeout(function(){b._ptlExecTriggerCallback("no fnc")},600)},_ptlExecTriggerCallback:function(b,c){var e=this;b?(this._setPTLErrorState(b),this._ptlTriggered=!1,a.setTimeout(function(){e._resetPosition(e._ptlSnapTime),e._setPTLErrorState(!1)},h)):(this.appendItems(c),this._ptlTriggered=!1,this._setPTLLoadingState(!1),d(function(){e._resetPosition(e._ptlSnapTime)}))},getPTLSize:function(){return this._ptlThreshold},getPTLSnapTime:function(){return this._ptlSnapTime},isTriggeredPTL:function(){return this._ptlTriggered},resetPositionPTL:function(){return this._triggerPTLAfterReset?(this._triggerPTLAfterReset=!1,this.triggerPTL()):(this._setPTLLoadingState(!0),this._triggerPTLAfterReset=!0),{x:this.x,y:this.maxScrollY-this.getPTLSize(),time:this.getPTLSnapTime()}},togglePullToLoadMore:function(a,b){var c=void 0!==a,d=c?a?"enable":"disable":"";c?this._ptlToggle(d,b):this._ptlToggle(this.opts.pullToLoadMore?"disable":"enable",b)}},e.PullToLoadMore=b}(window),function(a){"use strict";function b(){}var c=a.__S||(a.__S={}),d=c.plugins||(c.plugins={}),e={labelNoData:"No more data to display",threshold:null};b.prototype={init:function(){this._mergeInfiniteLoading(),this.on("_initialize",this._initInfiniteLoading)},_mergeInfiniteLoading:function(){this.opts.infiniteLoadingConfig=this._mergeConfigOptions(e,this.opts.infiniteLoadingConfig)},_initInfiniteLoading:function(){var b=this.opts.infiniteLoadingConfig,c=this.opts.gpuOptimization?this._checkItemsthreshold:this._checkLoadingThreshold;return this.opts.infiniteLoading&&b.dataProvider?(this.on("scrollMove",c),this.on("scrollEnd",c),void(this._itemsThreshold=this.items&&this.items.length||10)):void a.DEBUG.warn("InfiniteLoading will not work because there is no data provider or is not activated")},_triggerInfiniteLoadingDataProvider:function(){var b=this,c=this.opts.infiniteLoadingConfig.dataProvider,d=function(){b._infiniteLoadingTriggerCallback.apply(b,arguments)};c?(a.DEBUG.log("fetching data"),this._ilFetchingData=!0,c(d)):this._infiniteLoadingTriggerCallback("noop")},_infiniteLoadingTriggerCallback:function(b,c){b||(c instanceof Array&&c.length?(a.DEBUG.log("Data fetched!"),this.appendItems(c)):"refresh"===c?(a.DEBUG.log("InfiniteLoading: refresh!"),this.refresh()):(this._ilNoMoreData=!0,a.DEBUG.log("No More data!"))),this._ilFetchingData=!1},_checkItemsthreshold:function(){if(!this._ilNoMoreData&&!this._ilFetchingData){var a=this._positionedSurfacesLast().contentIndex,b=this.items.length-1,c=this._itemsThreshold;c>b-a&&this._triggerInfiniteLoadingDataProvider()}},_checkLoadingThreshold:function(a,b,c){if(!this._ilNoMoreData&&!this._ilFetchingData){var d,e,f,g,h=this.opts.infiniteLoadingConfig;b||(b=this.x),c||(c=this.y),this.scrollVertical?(f=c,g=this.scrollerWidth):(f=b,g=this.scrollerHeight),e=h.threshold||3*g,d=g+f,e>d&&this._triggerInfiniteLoadingDataProvider()}},fetchData:function(){this._triggerInfiniteLoadingDataProvider()},unlockFetchData:function(){this._ilNoMoreData=!1},lockFetchData:function(){this._ilNoMoreData=!0}},d.InfiniteLoading=b}(window),function(a){"use strict";function b(){}var c=a.__S||(a.__S={}),d=c.plugins||(c.plugins={});b.prototype={init:function(){this.endless=!0},_itemsLeft:function(){return!0},_mod:function(a){var b=this.items.length;return(a%b+b)%b},_setActiveOffset:function(){this.activeOffset=(this.scrollVertical?this.wrapperHeight:this.wrapperWidth)-5},_momentum:function(a,b,c){var d=this._getVelocity(a,b,c),e=this._computeMomentum(d,a);return e},_resetPosition:function(){return!1},_isOutOfScroll:function(){return!1},_updateAllowed:function(a){return this._isScrolling||Math.abs(a.dist)>5},_getBoundaries:function(a,b){return{top:-a-b,bottom:-a+b+this.activeOffset}},_recycleEnableTest:function(){return!0},_initializePositions:function(){var b,c,d,e,f=this.items,g=f.length,h=this.surfacesPositioned,i=!0,j=this.wrapperSize+this.activeOffset,k=0;for(b=0;g>b&&i;b++)d=f[b],e=this._getAvailableSurface(),k+=this._attachItemInSurface(d,e,{index:b,offset:k}),i=j>k,h[b]=e;for(i=!0,k=0,j=this.activeOffset,b!==g&&i||a.DEBUG.log("[WARNING - SCROLLER ENDLESS PLUGIN] - Items are not sufficient to fulfill all scrollable area"),c=g-1;c>=b&&i;c--)d=f[c],e=this._getAvailableSurface(),k+=this._attachItemInSurface(d,e,{index:c,offset:h[0].offset,preCalculateSize:!0}),h.unshift(e),i=j>k;this._setInfiniteScrollerSize()}},d.Endless=b}(window),function(a){"use strict";function b(){}var c=a.__S||(a.__S={}),d=c.constructor,e=c.plugins||(c.plugins={}),f=(c.styles,d.EASING),g=200,h="soft",i=2,j=600;b.prototype={init:function(){this._bindSnap()},_bindSnap:function(){this.on("beforeScrollStart",this._snapStart)},_snapStart:function(){this.initX=this.startX,this.initY=this.startY},_getNearesOffset:function(){this.surfacesPositioned},_afterEnd:function(){var a,b,c;this.moved||(a=this._getSnapPosition(),a.init%a.minSnap&&(b=Math.round(a.init/a.snapSize)*a.snapSize,c=g,this.scrollVertical?this.scrollTo(0,b,c):this.scrollTo(b,0,c)))},_getSnapSize:function(a){return a?this.itemHeight||this.wrapperHeight:this.itemWidth||this.wrapperWidth},_getSnapPosition:function(){var a;return a=this.scrollVertical?{snapSize:this._getSnapSize(!0),dist:this.distY,init:this.initY}:{snapSize:this._getSnapSize(),dist:this.distX,init:this.initX},a.minSnap=a.snapSize/i,a},_momentum:function(){return this.opts.snap===h?this._momentumSnapSoft.apply(this,arguments):this._momentumSnapSticky.apply(this,arguments)},_momentumSnapSticky:function(a,b,c){var d,e,f=this._getVelocity(a,b,c),h=this._momentumSnapSoft.apply(this,arguments),i=this._getSnapPosition(),k=i.snapSize,l=Math.round(i.init/k)*k;return Math.abs(i.init-h.destination)<i.minSnap?h={destination:Math.round(i.init/i.snapSize)*i.snapSize,time:g,snapBack:!0}:(d=l+(h.destination>a?k:-k),e=Math.abs((a-d)/f),h={destination:d,time:Math.min(e,j)}),h},_momentumSnapSoft:function(a,b,c,d,e){var h,i,j=this._getVelocity(a,b,c),k=this._computeMomentum(j,a),l=this._getSnapPosition();return!this.endless&&k.destination>0?(k=this._computeSnap(0,e,j,a),k.bounce=f.bounce):k.destination<d?(k=this._computeSnap(d,e,j,a),k.bounce=f.bounce):(h=Math.round(k.destination/l.snapSize)*l.snapSize,i=Math.abs(a-h)<l.minSnap?g:Math.abs((h-a)/j),k={destination:h,time:i}),k}},e.Snap=b}(window),function(a){"use strict";function b(a,b){this.wrapper="string"==typeof b.el?document.querySelector(b.el):b.el,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=a,this.opts=h.simpleMerge(j,b),this.scrollVertical=a.scrollVertical,this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.virtualSizeX=1,this.virtualSizeY=1,this.opts.interactive&&(this.opts.disableTouch||(h.bind(this.indicator,"touchstart",this),h.bind(window,"touchend",this)),this.opts.disablePointer||(h.bind(this.indicator,"MSPointerDown",this),h.bind(window,"MSPointerUp",this)),this.opts.disableMouse||(h.bind(this.indicator,"mousedown",this),h.bind(window,"mouseup",this)))}function c(){}var d=a.__S||(a.__S={}),e=Date.now||function(){return(new Date).getTime()},f=a.requestAnimationFrame,g=d.styles,h=d.helpers,i=d.plugins||(d.plugins={}),j={interactive:!1,resize:!0,snap:!0},k=["position:absolute","z-index:9999"].join(";"),l=["-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box","position:absolute","background:rgba(0,0,0,0.5)","border:1px solid rgba(255,255,255,0.9)","border-radius:3px"].join(";"),m=["","height:7px","left:2px","right:2px","bottom:0"].join(";"),n=["","width:7px","bottom:2px","top:2px","right:1px"].join(";"),o=-.1;b.prototype={handleEvent:function(a){switch(a.type){case"touchstart":case"MSPointerDown":case"mousedown":this._start(a);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(a);break;case"touchend":case"MSPointerUp":case"mouseup":case"touchcancel":case"MSPointerCancel":case"mousecancel":this._end(a)}},destroy:function(){this.opts.interactive&&(h.unbind(this.indicator,"touchstart",this),h.unbind(this.indicator,"MSPointerDown",this),h.unbind(this.indicator,"mousedown",this),h.unbind(window,"touchmove",this),h.unbind(window,"MSPointerMove",this),h.unbind(window,"mousemove",this),h.unbind(window,"touchend",this),h.unbind(window,"MSPointerUp",this),h.unbind(window,"mouseup",this))},_start:function(a){var b=a.touches?a.touches[0]:a;a.preventDefault(),a.stopPropagation(),this.transitionTime(0),this.initiated=!0,this.moved=!1,this.lastPointX=b.pageX,this.lastPointY=b.pageY,this.startTime=e(),this.opts.disableTouch||h.bind(window,"touchmove",this),this.opts.disablePointer||h.bind(window,"MSPointerMove",this),this.opts.disableMouse||h.bind(window,"mousemove",this)},_move:function(a){{var b,c,d,f,g=a.touches?a.touches[0]:a;e()}a.preventDefault(),a.stopPropagation(),this.moved=!0,b=g.pageX-this.lastPointX,c=g.pageY-this.lastPointY,this.lastPointX=g.pageX,this.lastPointY=g.pageY,d=this.x+b,f=this.y+c,this._pos(d,f),this.x=d,this.y=f},_end:function(a){this.initiated&&(this.initiated=!1,a.preventDefault(),a.stopPropagation(),h.unbind(window,"touchmove",this),h.unbind(window,"MSPointerMove",this),h.unbind(window,"mousemove",this))},_pos:function(a,b){var c=this;0>a?a=0:a>this.maxPosX&&(a=this.maxPosX),0>b?b=0:b>this.maxPosY&&(b=this.maxPosY),a=this.scrollVertical?this.scroller.x:Math.round(a/this.sizeRatioX),b=this.scrollVertical?Math.round(b/this.sizeRatioY):this.scroller.y,this._rafPos||(this._rafPos=f(function(){c._posRAF(a,b)}))},_posRAF:function(a,b){this.scroller.scrollTo(a,b),this._rafPos=!1},transitionTime:function(a){a=a||0,this.indicatorStyle[g.transitionDuration]=a+"ms"},transitionEasing:function(a){this.indicatorStyle[g.transitionTimingFunction]=a},getCurrentSizes:function(){return this.scrollVertical?{virtual:this.virtualSizeY,wrapperSize:this.wrapperHeight,maxScroll:this.scroller.maxScrollY}:{virtual:this.virtualSizeX,wrapperSize:this.wrapperWidth,maxScroll:this.scroller.maxScrollX}},getVirtualScrollSize:function(){var a=this.getCurrentSizes();return a.virtual<a.wrapperSize?Math.abs(a.maxScroll)||a.wrapperSize:a.virtual},getVirtualMaxSize:function(a){var b=this.getCurrentSizes();return b.maxScroll===-1/0?-a:b.virtual?b.wrapperSize-a:b.maxScroll},refresh:function(){this.transitionTime(0);var a=(this.scroller,this.wrapperHeight=this.wrapper.offsetHeight),b=this.wrapperWidth=this.wrapper.offsetWidth,c=this.scrollVertical?a:b,d=Math.max(this.getVirtualScrollSize(),c),e=this.getVirtualMaxSize(d),f=Math.max(Math.round(c*c/d),8);this.scrollVertical?(this.opts.resize?(this.indicatorHeight=f,this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.offsetHeight,this.maxPosY=c-this.indicatorHeight,this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY,this.sizeRatioY=this.maxPosY/e||o,this.height=this.indicatorHeight):(this.opts.resize?(this.indicatorWidth=f,this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.offsetWidth,this.maxPosX=c-this.indicatorWidth,this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX,this.sizeRatioX=this.maxPosX/e||o,this.width=this.indicatorWidth),this.updatePosition()},_updatePositionAbstractProperties:function(a,b){return this.scrollVertical?{posRatio:b,indicatorSize:this.indicatorHeight,size:this.height,minBoundary:this.minBoundaryY,maxBoundary:this.maxBoundaryY,maxPos:this.maxPosY}:{posRatio:a,indicatorSize:this.indicatorWidth,size:this.width,minBoundary:this.minBoundaryX,maxBoundary:this.maxBoundaryX,maxPos:this.maxPosX}},updatePosition:function(){var a,b,c=this.sizeRatioX*this.scroller.x,d=this.sizeRatioY*this.scroller.y,e=this._updatePositionAbstractProperties(c,d),f=e.posRatio,h=1,i=1;f<e.minBoundary?(b=this.opts.snap?Math.max(e.indicatorSize+3*e.posRatio,8):e.indicatorSize,a=b/e.size,f=e.minBoundary-(e.size-b)/2):f>e.maxBoundary&&(b=this.opts.snap?Math.max(e.indicatorSize-3*(e.posRatio-e.maxPos),8):e.indicatorSize,a=b/e.size,f=e.maxPos+(e.size-b)/2),a&&(this.scrollVertical?(i=a,d=f):(h=a,c=f)),this.x=c,this.y=d,this.indicatorStyle[g.transform]="matrix3d("+h+",0,0,0,0,"+i+",0,0,0,0,1,0,"+c+","+d+", 0, 1)"}},c.prototype={init:function(){this._indicators=[],this._virtualScroll=0,this.on("_initialize",this._initializeIndicators),this.on("_update",this._updateIndicators),this.on("_refresh",this._refreshIndicators),this._hook("after","_transitionTime",this._transitionTimeIndicators),this._hook("after","_transitionEasing",this._transitionEasingIndicators),this._hook("after","_translate",this._updateIndicators),this._hook("after","_setInfiniteScrollerSize",this._setVirtualScrollSize)},_initializeIndicators:function(){var a=this;this.opts.scrollbars&&this._createDefaultScrollbars(this.opts.scrollbars),this.opts.indicators&&this.opts.indicators.forEach(function(b){a.addIndicator(b.el,b.config)}),this._initVirtualScrollSize()},_initVirtualScrollSize:function(){var a=this.scrollVertical?this.hasScrollY:this.hasScrollX,b=this.scrollVertical?"virtualSizeY":"virtualSizeX",c=a?this._virtualScroll:0;this._indicators.forEach(function(a){a[b]=c,a.refresh()})},_setVirtualScrollSize:function(){var a=this._positionedSurfacesLast(),b=a.offset+(this.scrollVertical?a.height:a.width),c=this.scrollVertical?"virtualSizeY":"virtualSizeX";b>this._virtualScroll&&(this._virtualScroll=b,this._indicators.forEach(function(a){a[c]=b,a.refresh()}))},_updateIndicators:function(){this._indicators.forEach(function(a){a.updatePosition()})},_refreshIndicators:function(){this._indicators.forEach(function(a){a.refresh()})},_transitionTimeIndicators:function(a){a||(a=0),this._indicators.forEach(function(b){b.transitionTime(a)})},_transitionEasingIndicators:function(a){this._indicators.forEach(function(b){b.transitionEasing(a)})},_createDefaultScrollbars:function(){var a=!0,c=!1,d=this._createDefaultScrollbar(this.scrollVertical,a,c);this.wrapper.appendChild(d),this._indicators.push(new b(this,{el:d,interactive:a}))},_createDefaultScrollbar:function(b,c,d){var e=a.document.createElement("div"),f=a.document.createElement("div"),g=k,h=l;return f.className="scrollbar",f.style.cssText=h,b?(d||(e.style.cssText+=g+n,f.style.width="100%"),e.className="scrollbar-vertical"):(d||(e.style.cssText+=g+m,f.style.height="100%"),e.className="scrollbar-horizontal"),c||(e.style.pointerEvents="none"),e.appendChild(f),e},addIndicator:function(a,c){c||(c={}),c.el=a;var d=new b(this,c);this._indicators.push(d),d.refresh()}},c.Indicator=b,i.Indicators=c}(window);